import{_ as n,r as s,c as a,a as t,w as o,e,b as c,o as p}from"./app.82084a0b.js";const l='{"title":"ES6类以及继承的实现原理","description":"","frontmatter":{},"relativePath":"learns/javascript/es6-extend.md","lastUpdated":1638452551944}',u={},r=e("p",null,[e("div",{class:"table-of-contents"},[e("ul")])],-1),i=e("h1",{id:"es6类以及继承的实现原理",tabindex:"-1"},[c("ES6类以及继承的实现原理 "),e("a",{class:"header-anchor",href:"#es6类以及继承的实现原理","aria-hidden":"true"},"#")],-1),k=e("div",{class:"language-js line-numbers-mode"},[e("pre",null,[e("code",null,[e("span",{class:"token keyword"},"class"),c(),e("span",{class:"token class-name"},"Parent"),c(),e("span",{class:"token punctuation"},"{"),c("\n  "),e("span",{class:"token function"},"constructor"),e("span",{class:"token punctuation"},"("),e("span",{class:"token parameter"},[c("name"),e("span",{class:"token punctuation"},","),c("age")]),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},"{"),c("\n    "),e("span",{class:"token keyword"},"this"),e("span",{class:"token punctuation"},"."),c("name "),e("span",{class:"token operator"},"="),c(" name"),e("span",{class:"token punctuation"},";"),c("\n    "),e("span",{class:"token keyword"},"this"),e("span",{class:"token punctuation"},"."),c("age "),e("span",{class:"token operator"},"="),c(" age"),e("span",{class:"token punctuation"},";"),c("\n  "),e("span",{class:"token punctuation"},"}"),c("\n  "),e("span",{class:"token function"},"speakSomething"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},"{"),c("\n    console"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"log"),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},'"I can speek chinese"'),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n  "),e("span",{class:"token punctuation"},"}"),c("\n"),e("span",{class:"token punctuation"},"}"),c("\n")])]),e("div",{class:"line-numbers-wrapper"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br"),e("span",{class:"line-number"},"5"),e("br"),e("span",{class:"line-number"},"6"),e("br"),e("span",{class:"line-number"},"7"),e("br"),e("span",{class:"line-number"},"8"),e("br"),e("span",{class:"line-number"},"9"),e("br")])],-1),b=e("p",null,"经过babel转码之后",-1),m=e("div",{class:"language-js line-numbers-mode"},[e("pre",null,[e("code",null,[e("span",{class:"token string"},'"use strict"'),e("span",{class:"token punctuation"},";"),c("\n\n"),e("span",{class:"token keyword"},"var"),c(),e("span",{class:"token function-variable function"},"_createClass"),c(),e("span",{class:"token operator"},"="),c(),e("span",{class:"token keyword"},"function"),c(),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token punctuation"},"{"),c("\n  "),e("span",{class:"token keyword"},"function"),c(),e("span",{class:"token function"},"defineProperties"),e("span",{class:"token punctuation"},"("),e("span",{class:"token parameter"},[c("target"),e("span",{class:"token punctuation"},","),c(" props")]),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token punctuation"},"{"),c("\n    "),e("span",{class:"token keyword"},"for"),c(),e("span",{class:"token punctuation"},"("),e("span",{class:"token keyword"},"var"),c(" i "),e("span",{class:"token operator"},"="),c(),e("span",{class:"token number"},"0"),e("span",{class:"token punctuation"},";"),c(" i "),e("span",{class:"token operator"},"<"),c(" props"),e("span",{class:"token punctuation"},"."),c("length"),e("span",{class:"token punctuation"},";"),c(" i"),e("span",{class:"token operator"},"++"),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token punctuation"},"{"),c("\n      "),e("span",{class:"token keyword"},"var"),c(" descriptor "),e("span",{class:"token operator"},"="),c(" props"),e("span",{class:"token punctuation"},"["),c("i"),e("span",{class:"token punctuation"},"]"),e("span",{class:"token punctuation"},";"),c("\n      descriptor"),e("span",{class:"token punctuation"},"."),c("enumerable "),e("span",{class:"token operator"},"="),c(" descriptor"),e("span",{class:"token punctuation"},"."),c("enumerable "),e("span",{class:"token operator"},"||"),c(),e("span",{class:"token boolean"},"false"),e("span",{class:"token punctuation"},";"),c("\n      descriptor"),e("span",{class:"token punctuation"},"."),c("configurable "),e("span",{class:"token operator"},"="),c(),e("span",{class:"token boolean"},"true"),e("span",{class:"token punctuation"},";"),c("\n      "),e("span",{class:"token keyword"},"if"),c(),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},'"value"'),c(),e("span",{class:"token keyword"},"in"),c(" descriptor"),e("span",{class:"token punctuation"},")"),c(" descriptor"),e("span",{class:"token punctuation"},"."),c("writable "),e("span",{class:"token operator"},"="),c(),e("span",{class:"token boolean"},"true"),e("span",{class:"token punctuation"},";"),c("\n      Object"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"defineProperty"),e("span",{class:"token punctuation"},"("),c("target"),e("span",{class:"token punctuation"},","),c(" descriptor"),e("span",{class:"token punctuation"},"."),c("key"),e("span",{class:"token punctuation"},","),c(" descriptor"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n    "),e("span",{class:"token punctuation"},"}"),c("\n  "),e("span",{class:"token punctuation"},"}"),c("\n\n  "),e("span",{class:"token keyword"},"return"),c(),e("span",{class:"token keyword"},"function"),c(),e("span",{class:"token punctuation"},"("),e("span",{class:"token parameter"},[c("Constructor"),e("span",{class:"token punctuation"},","),c(" protoProps"),e("span",{class:"token punctuation"},","),c(" staticProps")]),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token punctuation"},"{"),c("\n    "),e("span",{class:"token keyword"},"if"),c(),e("span",{class:"token punctuation"},"("),c("protoProps"),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token function"},"defineProperties"),e("span",{class:"token punctuation"},"("),e("span",{class:"token class-name"},"Constructor"),e("span",{class:"token punctuation"},"."),c("prototype"),e("span",{class:"token punctuation"},","),c(" protoProps"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n    "),e("span",{class:"token keyword"},"if"),c(),e("span",{class:"token punctuation"},"("),c("staticProps"),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token function"},"defineProperties"),e("span",{class:"token punctuation"},"("),c("Constructor"),e("span",{class:"token punctuation"},","),c(" staticProps"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n    "),e("span",{class:"token keyword"},"return"),c(" Constructor"),e("span",{class:"token punctuation"},";"),c("\n  "),e("span",{class:"token punctuation"},"}"),e("span",{class:"token punctuation"},";"),c("\n"),e("span",{class:"token punctuation"},"}"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n\n"),e("span",{class:"token keyword"},"function"),c(),e("span",{class:"token function"},"_classCallCheck"),e("span",{class:"token punctuation"},"("),e("span",{class:"token parameter"},[c("instance"),e("span",{class:"token punctuation"},","),c(" Constructor")]),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token punctuation"},"{"),c("\n  "),e("span",{class:"token keyword"},"if"),c(),e("span",{class:"token punctuation"},"("),e("span",{class:"token operator"},"!"),e("span",{class:"token punctuation"},"("),c("instance "),e("span",{class:"token keyword"},"instanceof"),c(),e("span",{class:"token class-name"},"Constructor"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token punctuation"},"{"),c("\n    "),e("span",{class:"token keyword"},"throw"),c(),e("span",{class:"token keyword"},"new"),c(),e("span",{class:"token class-name"},"TypeError"),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},'"Cannot call a class as a function"'),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n  "),e("span",{class:"token punctuation"},"}"),c("\n"),e("span",{class:"token punctuation"},"}"),c("\n\n"),e("span",{class:"token keyword"},"var"),c(),e("span",{class:"token function-variable function"},"Parent"),c(),e("span",{class:"token operator"},"="),c(),e("span",{class:"token keyword"},"function"),c(),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token punctuation"},"{"),c("\n  "),e("span",{class:"token keyword"},"function"),c(),e("span",{class:"token function"},"Parent"),e("span",{class:"token punctuation"},"("),e("span",{class:"token parameter"},[c("name"),e("span",{class:"token punctuation"},","),c(" age")]),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token punctuation"},"{"),c("\n    "),e("span",{class:"token function"},"_classCallCheck"),e("span",{class:"token punctuation"},"("),e("span",{class:"token keyword"},"this"),e("span",{class:"token punctuation"},","),c(" Parent"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n\n    "),e("span",{class:"token keyword"},"this"),e("span",{class:"token punctuation"},"."),c("name "),e("span",{class:"token operator"},"="),c(" name"),e("span",{class:"token punctuation"},";"),c("\n    "),e("span",{class:"token keyword"},"this"),e("span",{class:"token punctuation"},"."),c("age "),e("span",{class:"token operator"},"="),c(" age"),e("span",{class:"token punctuation"},";"),c("\n  "),e("span",{class:"token punctuation"},"}"),c("\n\n  "),e("span",{class:"token function"},"_createClass"),e("span",{class:"token punctuation"},"("),c("Parent"),e("span",{class:"token punctuation"},","),c(),e("span",{class:"token punctuation"},"["),e("span",{class:"token punctuation"},"{"),c("\n    key"),e("span",{class:"token operator"},":"),c(),e("span",{class:"token string"},'"speakSomething"'),e("span",{class:"token punctuation"},","),c("\n    "),e("span",{class:"token function-variable function"},"value"),e("span",{class:"token operator"},":"),c(),e("span",{class:"token keyword"},"function"),c(),e("span",{class:"token function"},"speakSomething"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token punctuation"},"{"),c("\n        console"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"log"),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},'"I can speek chinese"'),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n    "),e("span",{class:"token punctuation"},"}"),c("\n  "),e("span",{class:"token punctuation"},"}"),e("span",{class:"token punctuation"},"]"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n\n  "),e("span",{class:"token keyword"},"return"),c(" Parent"),e("span",{class:"token punctuation"},";"),c("\n"),e("span",{class:"token punctuation"},"}"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n")])]),e("div",{class:"line-numbers-wrapper"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br"),e("span",{class:"line-number"},"5"),e("br"),e("span",{class:"line-number"},"6"),e("br"),e("span",{class:"line-number"},"7"),e("br"),e("span",{class:"line-number"},"8"),e("br"),e("span",{class:"line-number"},"9"),e("br"),e("span",{class:"line-number"},"10"),e("br"),e("span",{class:"line-number"},"11"),e("br"),e("span",{class:"line-number"},"12"),e("br"),e("span",{class:"line-number"},"13"),e("br"),e("span",{class:"line-number"},"14"),e("br"),e("span",{class:"line-number"},"15"),e("br"),e("span",{class:"line-number"},"16"),e("br"),e("span",{class:"line-number"},"17"),e("br"),e("span",{class:"line-number"},"18"),e("br"),e("span",{class:"line-number"},"19"),e("br"),e("span",{class:"line-number"},"20"),e("br"),e("span",{class:"line-number"},"21"),e("br"),e("span",{class:"line-number"},"22"),e("br"),e("span",{class:"line-number"},"23"),e("br"),e("span",{class:"line-number"},"24"),e("br"),e("span",{class:"line-number"},"25"),e("br"),e("span",{class:"line-number"},"26"),e("br"),e("span",{class:"line-number"},"27"),e("br"),e("span",{class:"line-number"},"28"),e("br"),e("span",{class:"line-number"},"29"),e("br"),e("span",{class:"line-number"},"30"),e("br"),e("span",{class:"line-number"},"31"),e("br"),e("span",{class:"line-number"},"32"),e("br"),e("span",{class:"line-number"},"33"),e("br"),e("span",{class:"line-number"},"34"),e("br"),e("span",{class:"line-number"},"35"),e("br"),e("span",{class:"line-number"},"36"),e("br"),e("span",{class:"line-number"},"37"),e("br"),e("span",{class:"line-number"},"38"),e("br"),e("span",{class:"line-number"},"39"),e("br"),e("span",{class:"line-number"},"40"),e("br"),e("span",{class:"line-number"},"41"),e("br"),e("span",{class:"line-number"},"42"),e("br"),e("span",{class:"line-number"},"43"),e("br")])],-1),d=e("p",null,"通过ES6创建的类，是不允许你直接调用的。在ES5中，构造函数是可以直接运行的，比如Parent()。但是在ES6就不行。我们可以看到转码的构造函数中有_classCallCheck(this, Parent)语句,这句话是防止你通过构造函数直接运行的。你直接在ES6运行Parent(),这是不允许的,ES6中抛出Class constructor Parent cannot be invoked without 'new'错误。转码后的会抛出Cannot call a class as a function.我觉得这样的规范挺好的，能够规范化类的使用方式。",-1),f=e("p",null,"转码中_createClass方法，它调用Object.defineProperty方法去给新创建的Parent添加各种属性。defineProperties(Constructor.prototype, protoProps)是给原型添加属性。如果你有静态属性，会直接添加到构造函数上defineProperties(Constructor, staticProps)",-1),w=e("p",null,"上面讲的是创建一个类的过程，那ES6如何实现继承的呢？还是上面的例子，这次我们给Parent添加静态属性，原型属性，内部属性",-1),y=e("div",{class:"language-js line-numbers-mode"},[e("pre",null,[e("code",null,[e("span",{class:"token keyword"},"class"),c(),e("span",{class:"token class-name"},"Parent"),c(),e("span",{class:"token punctuation"},"{"),c("\n  "),e("span",{class:"token keyword"},"static"),c(" height "),e("span",{class:"token operator"},"="),c(),e("span",{class:"token number"},"12"),c(),e("span",{class:"token comment"},"// 静态属性"),c("\n  "),e("span",{class:"token function"},"constructor"),e("span",{class:"token punctuation"},"("),e("span",{class:"token parameter"},[c("name"),e("span",{class:"token punctuation"},","),c("age")]),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},"{"),c("\n    "),e("span",{class:"token keyword"},"this"),e("span",{class:"token punctuation"},"."),c("name "),e("span",{class:"token operator"},"="),c(" name"),e("span",{class:"token punctuation"},";"),c("\n    "),e("span",{class:"token keyword"},"this"),e("span",{class:"token punctuation"},"."),c("age "),e("span",{class:"token operator"},"="),c(" age"),e("span",{class:"token punctuation"},";"),c("\n  "),e("span",{class:"token punctuation"},"}"),c("\n  "),e("span",{class:"token function"},"speakSomething"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},"{"),c("\n    console"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"log"),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},'"I can speek chinese"'),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n  "),e("span",{class:"token punctuation"},"}"),c("\n"),e("span",{class:"token punctuation"},"}"),c("\n"),e("span",{class:"token class-name"},"Parent"),e("span",{class:"token punctuation"},"."),c("prototype"),e("span",{class:"token punctuation"},"."),c("color "),e("span",{class:"token operator"},"="),c(),e("span",{class:"token string"},"'yellow'"),c("\n\n\n"),e("span",{class:"token comment"},"//定义子类，继承父类"),c("\n"),e("span",{class:"token keyword"},"class"),c(),e("span",{class:"token class-name"},"Child"),c(),e("span",{class:"token keyword"},"extends"),c(),e("span",{class:"token class-name"},"Parent"),c(),e("span",{class:"token punctuation"},"{"),c("\n  "),e("span",{class:"token keyword"},"static"),c(" width "),e("span",{class:"token operator"},"="),c(),e("span",{class:"token number"},"18"),c(),e("span",{class:"token comment"},"// 静态属性"),c("\n  "),e("span",{class:"token function"},"constructor"),e("span",{class:"token punctuation"},"("),e("span",{class:"token parameter"},[c("name"),e("span",{class:"token punctuation"},","),c("age")]),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},"{"),c("\n    "),e("span",{class:"token keyword"},"super"),e("span",{class:"token punctuation"},"("),c("name"),e("span",{class:"token punctuation"},","),c("age"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n  "),e("span",{class:"token punctuation"},"}"),c("\n  "),e("span",{class:"token function"},"coding"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},"{"),c("\n    console"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"log"),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},'"I can code JS"'),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n  "),e("span",{class:"token punctuation"},"}"),c("\n"),e("span",{class:"token punctuation"},"}"),c("\n\n"),e("span",{class:"token keyword"},"var"),c(" c "),e("span",{class:"token operator"},"="),c(),e("span",{class:"token keyword"},"new"),c(),e("span",{class:"token class-name"},"Child"),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},'"job"'),e("span",{class:"token punctuation"},","),e("span",{class:"token number"},"30"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\nc"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"coding"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),c("\n")])]),e("div",{class:"line-numbers-wrapper"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br"),e("span",{class:"line-number"},"5"),e("br"),e("span",{class:"line-number"},"6"),e("br"),e("span",{class:"line-number"},"7"),e("br"),e("span",{class:"line-number"},"8"),e("br"),e("span",{class:"line-number"},"9"),e("br"),e("span",{class:"line-number"},"10"),e("br"),e("span",{class:"line-number"},"11"),e("br"),e("span",{class:"line-number"},"12"),e("br"),e("span",{class:"line-number"},"13"),e("br"),e("span",{class:"line-number"},"14"),e("br"),e("span",{class:"line-number"},"15"),e("br"),e("span",{class:"line-number"},"16"),e("br"),e("span",{class:"line-number"},"17"),e("br"),e("span",{class:"line-number"},"18"),e("br"),e("span",{class:"line-number"},"19"),e("br"),e("span",{class:"line-number"},"20"),e("br"),e("span",{class:"line-number"},"21"),e("br"),e("span",{class:"line-number"},"22"),e("br"),e("span",{class:"line-number"},"23"),e("br"),e("span",{class:"line-number"},"24"),e("br"),e("span",{class:"line-number"},"25"),e("br"),e("span",{class:"line-number"},"26"),e("br")])],-1),g=e("p",null,"转码之后的代码变成了这样",-1),C=e("div",{class:"language-js line-numbers-mode"},[e("pre",null,[e("code",null,[e("span",{class:"token string"},"'use strict'"),e("span",{class:"token punctuation"},";"),c("\n\n"),e("span",{class:"token keyword"},"var"),c(),e("span",{class:"token function-variable function"},"_createClass"),c(),e("span",{class:"token operator"},"="),c(),e("span",{class:"token keyword"},"function"),c(),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token punctuation"},"{"),c("\n  "),e("span",{class:"token keyword"},"function"),c(),e("span",{class:"token function"},"defineProperties"),e("span",{class:"token punctuation"},"("),e("span",{class:"token parameter"},[c("target"),e("span",{class:"token punctuation"},","),c(" props")]),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token punctuation"},"{"),c("\n    "),e("span",{class:"token keyword"},"for"),c(),e("span",{class:"token punctuation"},"("),e("span",{class:"token keyword"},"var"),c(" i "),e("span",{class:"token operator"},"="),c(),e("span",{class:"token number"},"0"),e("span",{class:"token punctuation"},";"),c(" i "),e("span",{class:"token operator"},"<"),c(" props"),e("span",{class:"token punctuation"},"."),c("length"),e("span",{class:"token punctuation"},";"),c(" i"),e("span",{class:"token operator"},"++"),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token punctuation"},"{"),c("\n      "),e("span",{class:"token keyword"},"var"),c(" descriptor "),e("span",{class:"token operator"},"="),c(" props"),e("span",{class:"token punctuation"},"["),c("i"),e("span",{class:"token punctuation"},"]"),e("span",{class:"token punctuation"},";"),c("\n      descriptor"),e("span",{class:"token punctuation"},"."),c("enumerable "),e("span",{class:"token operator"},"="),c(" descriptor"),e("span",{class:"token punctuation"},"."),c("enumerable "),e("span",{class:"token operator"},"||"),c(),e("span",{class:"token boolean"},"false"),e("span",{class:"token punctuation"},";"),c("\n      descriptor"),e("span",{class:"token punctuation"},"."),c("configurable "),e("span",{class:"token operator"},"="),c(),e("span",{class:"token boolean"},"true"),e("span",{class:"token punctuation"},";"),c("\n      "),e("span",{class:"token keyword"},"if"),c(),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},'"value"'),c(),e("span",{class:"token keyword"},"in"),c(" descriptor"),e("span",{class:"token punctuation"},")"),c(" descriptor"),e("span",{class:"token punctuation"},"."),c("writable "),e("span",{class:"token operator"},"="),c(),e("span",{class:"token boolean"},"true"),e("span",{class:"token punctuation"},";"),c("\n      Object"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"defineProperty"),e("span",{class:"token punctuation"},"("),c("target"),e("span",{class:"token punctuation"},","),c(" descriptor"),e("span",{class:"token punctuation"},"."),c("key"),e("span",{class:"token punctuation"},","),c(" descriptor"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n    "),e("span",{class:"token punctuation"},"}"),c("\n  "),e("span",{class:"token punctuation"},"}"),c("\n\n  "),e("span",{class:"token keyword"},"return"),c(),e("span",{class:"token keyword"},"function"),c(),e("span",{class:"token punctuation"},"("),e("span",{class:"token parameter"},[c("Constructor"),e("span",{class:"token punctuation"},","),c(" protoProps"),e("span",{class:"token punctuation"},","),c(" staticProps")]),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token punctuation"},"{"),c("\n    "),e("span",{class:"token keyword"},"if"),c(),e("span",{class:"token punctuation"},"("),c("protoProps"),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token function"},"defineProperties"),e("span",{class:"token punctuation"},"("),e("span",{class:"token class-name"},"Constructor"),e("span",{class:"token punctuation"},"."),c("prototype"),e("span",{class:"token punctuation"},","),c(" protoProps"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n    "),e("span",{class:"token keyword"},"if"),c(),e("span",{class:"token punctuation"},"("),c("staticProps"),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token function"},"defineProperties"),e("span",{class:"token punctuation"},"("),c("Constructor"),e("span",{class:"token punctuation"},","),c(" staticProps"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n    "),e("span",{class:"token keyword"},"return"),c(" Constructor"),e("span",{class:"token punctuation"},";"),c("\n  "),e("span",{class:"token punctuation"},"}"),e("span",{class:"token punctuation"},";"),c("\n"),e("span",{class:"token punctuation"},"}"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n\n"),e("span",{class:"token keyword"},"function"),c(),e("span",{class:"token function"},"_possibleConstructorReturn"),e("span",{class:"token punctuation"},"("),e("span",{class:"token parameter"},[c("self"),e("span",{class:"token punctuation"},","),c(" call")]),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token punctuation"},"{"),c("\n  "),e("span",{class:"token keyword"},"if"),c(),e("span",{class:"token punctuation"},"("),e("span",{class:"token operator"},"!"),c("self"),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token punctuation"},"{"),c("\n    "),e("span",{class:"token keyword"},"throw"),c(),e("span",{class:"token keyword"},"new"),c(),e("span",{class:"token class-name"},"ReferenceError"),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},"\"this hasn't been initialised - super() hasn't been called\""),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n  "),e("span",{class:"token punctuation"},"}"),c("\n  "),e("span",{class:"token keyword"},"return"),c(" call "),e("span",{class:"token operator"},"&&"),c(),e("span",{class:"token punctuation"},"("),e("span",{class:"token keyword"},"typeof"),c(" call "),e("span",{class:"token operator"},"==="),c(),e("span",{class:"token string"},'"object"'),c(),e("span",{class:"token operator"},"||"),c(),e("span",{class:"token keyword"},"typeof"),c(" call "),e("span",{class:"token operator"},"==="),c(),e("span",{class:"token string"},'"function"'),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token operator"},"?"),c(" call "),e("span",{class:"token operator"},":"),c(" self"),e("span",{class:"token punctuation"},";"),c("\n"),e("span",{class:"token punctuation"},"}"),c("\n\n"),e("span",{class:"token keyword"},"function"),c(),e("span",{class:"token function"},"_inherits"),e("span",{class:"token punctuation"},"("),e("span",{class:"token parameter"},[c("subClass"),e("span",{class:"token punctuation"},","),c(" superClass")]),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token punctuation"},"{"),c("\n  "),e("span",{class:"token keyword"},"if"),c(),e("span",{class:"token punctuation"},"("),e("span",{class:"token keyword"},"typeof"),c(" superClass "),e("span",{class:"token operator"},"!=="),c(),e("span",{class:"token string"},'"function"'),c(),e("span",{class:"token operator"},"&&"),c(" superClass "),e("span",{class:"token operator"},"!=="),c(),e("span",{class:"token keyword"},"null"),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token punctuation"},"{"),c("\n    "),e("span",{class:"token keyword"},"throw"),c(),e("span",{class:"token keyword"},"new"),c(),e("span",{class:"token class-name"},"TypeError"),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},'"Super expression must either be null or a function, not "'),c(),e("span",{class:"token operator"},"+"),c(),e("span",{class:"token keyword"},"typeof"),c(" superClass"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n  "),e("span",{class:"token punctuation"},"}"),c("\n  subClass"),e("span",{class:"token punctuation"},"."),c("prototype "),e("span",{class:"token operator"},"="),c(" Object"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"create"),e("span",{class:"token punctuation"},"("),c("superClass "),e("span",{class:"token operator"},"&&"),c(" superClass"),e("span",{class:"token punctuation"},"."),c("prototype"),e("span",{class:"token punctuation"},","),c(),e("span",{class:"token punctuation"},"{"),c("\n    constructor"),e("span",{class:"token operator"},":"),c(),e("span",{class:"token punctuation"},"{"),c("\n      value"),e("span",{class:"token operator"},":"),c(" subClass"),e("span",{class:"token punctuation"},","),c("\n      enumerable"),e("span",{class:"token operator"},":"),c(),e("span",{class:"token boolean"},"false"),e("span",{class:"token punctuation"},","),c("\n      writable"),e("span",{class:"token operator"},":"),c(),e("span",{class:"token boolean"},"true"),e("span",{class:"token punctuation"},","),c("\n      configurable"),e("span",{class:"token operator"},":"),c(),e("span",{class:"token boolean"},"true"),c("\n    "),e("span",{class:"token punctuation"},"}"),c("\n  "),e("span",{class:"token punctuation"},"}"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n  "),e("span",{class:"token keyword"},"if"),c(),e("span",{class:"token punctuation"},"("),c("superClass"),e("span",{class:"token punctuation"},")"),c(" Object"),e("span",{class:"token punctuation"},"."),c("setPrototypeOf "),e("span",{class:"token operator"},"?"),c(" Object"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"setPrototypeOf"),e("span",{class:"token punctuation"},"("),c("subClass"),e("span",{class:"token punctuation"},","),c(" superClass"),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token operator"},":"),c(" subClass"),e("span",{class:"token punctuation"},"."),c("__proto__ "),e("span",{class:"token operator"},"="),c(" superClass"),e("span",{class:"token punctuation"},";"),c("\n"),e("span",{class:"token punctuation"},"}"),c("\n\n"),e("span",{class:"token keyword"},"function"),c(),e("span",{class:"token function"},"_classCallCheck"),e("span",{class:"token punctuation"},"("),e("span",{class:"token parameter"},[c("instance"),e("span",{class:"token punctuation"},","),c(" Constructor")]),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token punctuation"},"{"),c("\n  "),e("span",{class:"token keyword"},"if"),c(),e("span",{class:"token punctuation"},"("),e("span",{class:"token operator"},"!"),e("span",{class:"token punctuation"},"("),c("instance "),e("span",{class:"token keyword"},"instanceof"),c(),e("span",{class:"token class-name"},"Constructor"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token punctuation"},"{"),c("\n    "),e("span",{class:"token keyword"},"throw"),c(),e("span",{class:"token keyword"},"new"),c(),e("span",{class:"token class-name"},"TypeError"),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},'"Cannot call a class as a function"'),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n  "),e("span",{class:"token punctuation"},"}"),c("\n"),e("span",{class:"token punctuation"},"}"),c("\n\n"),e("span",{class:"token keyword"},"var"),c(),e("span",{class:"token function-variable function"},"Parent"),c(),e("span",{class:"token operator"},"="),c(),e("span",{class:"token keyword"},"function"),c(),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token punctuation"},"{"),c("\n  "),e("span",{class:"token keyword"},"function"),c(),e("span",{class:"token function"},"Parent"),e("span",{class:"token punctuation"},"("),e("span",{class:"token parameter"},[c("name"),e("span",{class:"token punctuation"},","),c(" age")]),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token punctuation"},"{"),c("\n    "),e("span",{class:"token function"},"_classCallCheck"),e("span",{class:"token punctuation"},"("),e("span",{class:"token keyword"},"this"),e("span",{class:"token punctuation"},","),c(" Parent"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n\n    "),e("span",{class:"token keyword"},"this"),e("span",{class:"token punctuation"},"."),c("name "),e("span",{class:"token operator"},"="),c(" name"),e("span",{class:"token punctuation"},";"),c("\n    "),e("span",{class:"token keyword"},"this"),e("span",{class:"token punctuation"},"."),c("age "),e("span",{class:"token operator"},"="),c(" age"),e("span",{class:"token punctuation"},";"),c("\n  "),e("span",{class:"token punctuation"},"}"),c("\n\n  "),e("span",{class:"token function"},"_createClass"),e("span",{class:"token punctuation"},"("),c("Parent"),e("span",{class:"token punctuation"},","),c(),e("span",{class:"token punctuation"},"["),e("span",{class:"token punctuation"},"{"),c("\n    key"),e("span",{class:"token operator"},":"),c(),e("span",{class:"token string"},'"speakSomething"'),e("span",{class:"token punctuation"},","),c("\n    "),e("span",{class:"token function-variable function"},"value"),e("span",{class:"token operator"},":"),c(),e("span",{class:"token keyword"},"function"),c(),e("span",{class:"token function"},"speakSomething"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token punctuation"},"{"),c("\n        console"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"log"),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},'"I can speek chinese"'),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n    "),e("span",{class:"token punctuation"},"}"),c("\n  "),e("span",{class:"token punctuation"},"}"),e("span",{class:"token punctuation"},"]"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n\n  "),e("span",{class:"token keyword"},"return"),c(" Parent"),e("span",{class:"token punctuation"},";"),c("\n"),e("span",{class:"token punctuation"},"}"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n\nParent"),e("span",{class:"token punctuation"},"."),c("height "),e("span",{class:"token operator"},"="),c(),e("span",{class:"token number"},"12"),e("span",{class:"token punctuation"},";"),c("\n\n"),e("span",{class:"token class-name"},"Parent"),e("span",{class:"token punctuation"},"."),c("prototype"),e("span",{class:"token punctuation"},"."),c("color "),e("span",{class:"token operator"},"="),c(),e("span",{class:"token string"},"'yellow'"),e("span",{class:"token punctuation"},";"),c("\n\n"),e("span",{class:"token comment"},"//定义子类，继承父类"),c("\n\n"),e("span",{class:"token keyword"},"var"),c(),e("span",{class:"token function-variable function"},"Child"),c(),e("span",{class:"token operator"},"="),c(),e("span",{class:"token keyword"},"function"),c(),e("span",{class:"token punctuation"},"("),e("span",{class:"token parameter"},"_Parent"),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token punctuation"},"{"),c("\n  "),e("span",{class:"token function"},"_inherits"),e("span",{class:"token punctuation"},"("),c("Child"),e("span",{class:"token punctuation"},","),c(" _Parent"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n\n  "),e("span",{class:"token keyword"},"function"),c(),e("span",{class:"token function"},"Child"),e("span",{class:"token punctuation"},"("),e("span",{class:"token parameter"},[c("name"),e("span",{class:"token punctuation"},","),c(" age")]),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token punctuation"},"{"),c("\n    "),e("span",{class:"token function"},"_classCallCheck"),e("span",{class:"token punctuation"},"("),e("span",{class:"token keyword"},"this"),e("span",{class:"token punctuation"},","),c(" Child"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n\n    "),e("span",{class:"token keyword"},"return"),c(),e("span",{class:"token function"},"_possibleConstructorReturn"),e("span",{class:"token punctuation"},"("),e("span",{class:"token keyword"},"this"),e("span",{class:"token punctuation"},","),c(),e("span",{class:"token punctuation"},"("),c("Child"),e("span",{class:"token punctuation"},"."),c("__proto__ "),e("span",{class:"token operator"},"||"),c(" Object"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"getPrototypeOf"),e("span",{class:"token punctuation"},"("),c("Child"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"call"),e("span",{class:"token punctuation"},"("),e("span",{class:"token keyword"},"this"),e("span",{class:"token punctuation"},","),c(" name"),e("span",{class:"token punctuation"},","),c(" age"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n  "),e("span",{class:"token punctuation"},"}"),c("\n\n  "),e("span",{class:"token function"},"_createClass"),e("span",{class:"token punctuation"},"("),c("Child"),e("span",{class:"token punctuation"},","),c(),e("span",{class:"token punctuation"},"["),e("span",{class:"token punctuation"},"{"),c("\n    key"),e("span",{class:"token operator"},":"),c(),e("span",{class:"token string"},'"coding"'),e("span",{class:"token punctuation"},","),c("\n    "),e("span",{class:"token function-variable function"},"value"),e("span",{class:"token operator"},":"),c(),e("span",{class:"token keyword"},"function"),c(),e("span",{class:"token function"},"coding"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),c(),e("span",{class:"token punctuation"},"{"),c("\n        console"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"log"),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},'"I can code JS"'),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n    "),e("span",{class:"token punctuation"},"}"),c("\n  "),e("span",{class:"token punctuation"},"}"),e("span",{class:"token punctuation"},"]"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n\n  "),e("span",{class:"token keyword"},"return"),c(" Child"),e("span",{class:"token punctuation"},";"),c("\n"),e("span",{class:"token punctuation"},"}"),e("span",{class:"token punctuation"},"("),c("Parent"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n\nChild"),e("span",{class:"token punctuation"},"."),c("width "),e("span",{class:"token operator"},"="),c(),e("span",{class:"token number"},"18"),e("span",{class:"token punctuation"},";"),c("\n\n\n"),e("span",{class:"token keyword"},"var"),c(" c "),e("span",{class:"token operator"},"="),c(),e("span",{class:"token keyword"},"new"),c(),e("span",{class:"token class-name"},"Child"),e("span",{class:"token punctuation"},"("),e("span",{class:"token string"},'"job"'),e("span",{class:"token punctuation"},","),c(),e("span",{class:"token number"},"30"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\nc"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"coding"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n")])]),e("div",{class:"line-numbers-wrapper"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br"),e("span",{class:"line-number"},"5"),e("br"),e("span",{class:"line-number"},"6"),e("br"),e("span",{class:"line-number"},"7"),e("br"),e("span",{class:"line-number"},"8"),e("br"),e("span",{class:"line-number"},"9"),e("br"),e("span",{class:"line-number"},"10"),e("br"),e("span",{class:"line-number"},"11"),e("br"),e("span",{class:"line-number"},"12"),e("br"),e("span",{class:"line-number"},"13"),e("br"),e("span",{class:"line-number"},"14"),e("br"),e("span",{class:"line-number"},"15"),e("br"),e("span",{class:"line-number"},"16"),e("br"),e("span",{class:"line-number"},"17"),e("br"),e("span",{class:"line-number"},"18"),e("br"),e("span",{class:"line-number"},"19"),e("br"),e("span",{class:"line-number"},"20"),e("br"),e("span",{class:"line-number"},"21"),e("br"),e("span",{class:"line-number"},"22"),e("br"),e("span",{class:"line-number"},"23"),e("br"),e("span",{class:"line-number"},"24"),e("br"),e("span",{class:"line-number"},"25"),e("br"),e("span",{class:"line-number"},"26"),e("br"),e("span",{class:"line-number"},"27"),e("br"),e("span",{class:"line-number"},"28"),e("br"),e("span",{class:"line-number"},"29"),e("br"),e("span",{class:"line-number"},"30"),e("br"),e("span",{class:"line-number"},"31"),e("br"),e("span",{class:"line-number"},"32"),e("br"),e("span",{class:"line-number"},"33"),e("br"),e("span",{class:"line-number"},"34"),e("br"),e("span",{class:"line-number"},"35"),e("br"),e("span",{class:"line-number"},"36"),e("br"),e("span",{class:"line-number"},"37"),e("br"),e("span",{class:"line-number"},"38"),e("br"),e("span",{class:"line-number"},"39"),e("br"),e("span",{class:"line-number"},"40"),e("br"),e("span",{class:"line-number"},"41"),e("br"),e("span",{class:"line-number"},"42"),e("br"),e("span",{class:"line-number"},"43"),e("br"),e("span",{class:"line-number"},"44"),e("br"),e("span",{class:"line-number"},"45"),e("br"),e("span",{class:"line-number"},"46"),e("br"),e("span",{class:"line-number"},"47"),e("br"),e("span",{class:"line-number"},"48"),e("br"),e("span",{class:"line-number"},"49"),e("br"),e("span",{class:"line-number"},"50"),e("br"),e("span",{class:"line-number"},"51"),e("br"),e("span",{class:"line-number"},"52"),e("br"),e("span",{class:"line-number"},"53"),e("br"),e("span",{class:"line-number"},"54"),e("br"),e("span",{class:"line-number"},"55"),e("br"),e("span",{class:"line-number"},"56"),e("br"),e("span",{class:"line-number"},"57"),e("br"),e("span",{class:"line-number"},"58"),e("br"),e("span",{class:"line-number"},"59"),e("br"),e("span",{class:"line-number"},"60"),e("br"),e("span",{class:"line-number"},"61"),e("br"),e("span",{class:"line-number"},"62"),e("br"),e("span",{class:"line-number"},"63"),e("br"),e("span",{class:"line-number"},"64"),e("br"),e("span",{class:"line-number"},"65"),e("br"),e("span",{class:"line-number"},"66"),e("br"),e("span",{class:"line-number"},"67"),e("br"),e("span",{class:"line-number"},"68"),e("br"),e("span",{class:"line-number"},"69"),e("br"),e("span",{class:"line-number"},"70"),e("br"),e("span",{class:"line-number"},"71"),e("br"),e("span",{class:"line-number"},"72"),e("br"),e("span",{class:"line-number"},"73"),e("br"),e("span",{class:"line-number"},"74"),e("br"),e("span",{class:"line-number"},"75"),e("br"),e("span",{class:"line-number"},"76"),e("br"),e("span",{class:"line-number"},"77"),e("br"),e("span",{class:"line-number"},"78"),e("br"),e("span",{class:"line-number"},"79"),e("br"),e("span",{class:"line-number"},"80"),e("br"),e("span",{class:"line-number"},"81"),e("br"),e("span",{class:"line-number"},"82"),e("br"),e("span",{class:"line-number"},"83"),e("br"),e("span",{class:"line-number"},"84"),e("br"),e("span",{class:"line-number"},"85"),e("br"),e("span",{class:"line-number"},"86"),e("br"),e("span",{class:"line-number"},"87"),e("br"),e("span",{class:"line-number"},"88"),e("br"),e("span",{class:"line-number"},"89"),e("br"),e("span",{class:"line-number"},"90"),e("br"),e("span",{class:"line-number"},"91"),e("br"),e("span",{class:"line-number"},"92"),e("br"),e("span",{class:"line-number"},"93"),e("br"),e("span",{class:"line-number"},"94"),e("br"),e("span",{class:"line-number"},"95"),e("br"),e("span",{class:"line-number"},"96"),e("br")])],-1),h=e("p",null,"我们可以看到，构造类的方法都没变，只是添加了_inherits核心方法来实现继承，下面我们就看下这个方法做了什么？",-1),P=e("p",null,"首先是判断父类的类型，然后",-1),v=e("div",{class:"language-js line-numbers-mode"},[e("pre",null,[e("code",null,[c("subClass"),e("span",{class:"token punctuation"},"."),c("prototype "),e("span",{class:"token operator"},"="),c(" Object"),e("span",{class:"token punctuation"},"."),e("span",{class:"token function"},"create"),e("span",{class:"token punctuation"},"("),c("superClass "),e("span",{class:"token operator"},"&&"),c(" superClass"),e("span",{class:"token punctuation"},"."),c("prototype"),e("span",{class:"token punctuation"},","),c(),e("span",{class:"token punctuation"},"{"),c("\n  constructor"),e("span",{class:"token operator"},":"),c(),e("span",{class:"token punctuation"},"{"),c("\n    value"),e("span",{class:"token operator"},":"),c(" subClass"),e("span",{class:"token punctuation"},","),c("\n    enumerable"),e("span",{class:"token operator"},":"),c(),e("span",{class:"token boolean"},"false"),e("span",{class:"token punctuation"},","),c("\n    writable"),e("span",{class:"token operator"},":"),c(),e("span",{class:"token boolean"},"true"),e("span",{class:"token punctuation"},","),c("\n    configurable"),e("span",{class:"token operator"},":"),c(),e("span",{class:"token boolean"},"true"),c("\n  "),e("span",{class:"token punctuation"},"}"),c("\n"),e("span",{class:"token punctuation"},"}"),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},";"),c("\n")])]),e("div",{class:"line-numbers-wrapper"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br"),e("span",{class:"line-number"},"5"),e("br"),e("span",{class:"line-number"},"6"),e("br"),e("span",{class:"line-number"},"7"),e("br"),e("span",{class:"line-number"},"8"),e("br")])],-1),_=e("p",null,"这段代码翻译下来就是",-1),j=e("div",{class:"language-js line-numbers-mode"},[e("pre",null,[e("code",null,[e("span",{class:"token keyword"},"function"),c(),e("span",{class:"token constant"},"F"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),e("span",{class:"token punctuation"},"{"),e("span",{class:"token punctuation"},"}"),c("\n"),e("span",{class:"token class-name"},"F"),e("span",{class:"token punctuation"},"."),c("prototype "),e("span",{class:"token operator"},"="),c(" superClass"),e("span",{class:"token punctuation"},"."),c("prototype\nsubClass"),e("span",{class:"token punctuation"},"."),c("prototype "),e("span",{class:"token operator"},"="),c(),e("span",{class:"token keyword"},"new"),c(),e("span",{class:"token class-name"},"F"),e("span",{class:"token punctuation"},"("),e("span",{class:"token punctuation"},")"),c("\nsubClass"),e("span",{class:"token punctuation"},"."),c("prototype"),e("span",{class:"token punctuation"},"."),c("constructor "),e("span",{class:"token operator"},"="),c(" subClass\n")])]),e("div",{class:"line-numbers-wrapper"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br")])],-1),S=e("p",null,[c("接下来subClass."),e("strong",null,"proto"),c(" = superClass _inherits核心思想就是下面两句")],-1),E=e("div",{class:"language-js line-numbers-mode"},[e("pre",null,[e("code",null,[c("subClass"),e("span",{class:"token punctuation"},"."),c("prototype"),e("span",{class:"token punctuation"},"."),c("__proto__ "),e("span",{class:"token operator"},"="),c(" superClass"),e("span",{class:"token punctuation"},"."),c("prototype\nsubClass"),e("span",{class:"token punctuation"},"."),c("__proto__ "),e("span",{class:"token operator"},"="),c(" superClass\n")])]),e("div",{class:"line-numbers-wrapper"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br")])],-1),O=e("p",null,[e("img",{src:"https://segmentfault.com/img/remote/1460000014798805?w=802&h=502",alt:"img"})],-1),A=e("p",null,[c("那为什么这样一倒腾，它就实现了继承了呢? 首先 subClass.prototype."),e("strong",null,"proto"),c(" = superClass.prototype保证了c instanceof Parent是true,Child的实例可以访问到父类的属性，包括内部属性，以及原型属性。其次，subClass."),e("strong",null,"proto"),c(" = superClass，保证了Child.height也能访问到，也就是静态方法。")],-1);var I=n(u,[["render",function(n,e,c,l,u,I){const x=s("code-block");return p(),a("div",null,[r,i,t(x,{showAction:!1},{default:o((()=>[k])),_:1}),b,t(x,{showAction:!1},{default:o((()=>[m])),_:1}),d,f,w,t(x,{showAction:!1},{default:o((()=>[y])),_:1}),g,t(x,{showAction:!1},{default:o((()=>[C])),_:1}),h,P,t(x,{showAction:!1},{default:o((()=>[v])),_:1}),_,t(x,{showAction:!1},{default:o((()=>[j])),_:1}),S,t(x,{showAction:!1},{default:o((()=>[E])),_:1}),O,A])}]]);export{l as __pageData,I as default};
